parcelRequire=function(e,r,t,n){var i,o="function"==typeof parcelRequire&&parcelRequire,u="function"==typeof require&&require;function f(t,n){if(!r[t]){if(!e[t]){var i="function"==typeof parcelRequire&&parcelRequire;if(!n&&i)return i(t,!0);if(o)return o(t,!0);if(u&&"string"==typeof t)return u(t);var c=new Error("Cannot find module '"+t+"'");throw c.code="MODULE_NOT_FOUND",c}p.resolve=function(r){return e[t][1][r]||r},p.cache={};var l=r[t]=new f.Module(t);e[t][0].call(l.exports,p,l,l.exports,this)}return r[t].exports;function p(e){return f(p.resolve(e))}}f.isParcelRequire=!0,f.Module=function(e){this.id=e,this.bundle=f,this.exports={}},f.modules=e,f.cache=r,f.parent=o,f.register=function(r,t){e[r]=[function(e,r){r.exports=t},{}]};for(var c=0;c<t.length;c++)try{f(t[c])}catch(e){i||(i=e)}if(t.length){var l=f(t[t.length-1]);"object"==typeof exports&&"undefined"!=typeof module?module.exports=l:"function"==typeof define&&define.amd?define(function(){return l}):n&&(this[n]=l)}if(parcelRequire=f,i)throw i;return f}({"W8he":[function(require,module,exports) {
"use strict";function e(e,n){return a(e)||t(e,n)||r()}function r(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}function t(e,r){var t=[],a=!0,n=!1,l=void 0;try{for(var u,s=e[Symbol.iterator]();!(a=(u=s.next()).done)&&(t.push(u.value),!r||t.length!==r);a=!0);}catch(o){n=!0,l=o}finally{try{a||null==s.return||s.return()}finally{if(n)throw l}}return t}function a(e){if(Array.isArray(e))return e}Object.defineProperty(exports,"__esModule",{value:!0}),exports.parseToCustom=exports.parseKernel=exports.updateKernel=void 0;var n=function(e){var r=parseInt(e);return isNaN(r)?0:r},l={Sharpen:{squareMatrix:[[0,-1,0],[-1,5,-1],[0,-1,0]],scale:1},"Box Blur":{squareMatrix:[[1,1,1],[1,1,1],[1,1,1]],scale:9},"Edge Detection":{squareMatrix:[[-1,-1,-1],[-1,8,-1],[-1,-1,-1]],scale:1},"Gaussian Blur":{squareMatrix:[[1,2,1],[2,4,2],[1,2,1]],scale:16},Emboss:{squareMatrix:[[-2,-1,0],[-1,1,1],[0,1,2]],scale:1}},u={squareMatrix:[[0,0,0],[0,1,0],[0,0,0]],scale:1},s=function(r){for(var t="Custom"===r?u:l[r],a=t.squareMatrix,n=t.scale,s=document.getElementById("kernel-table"),o=document.getElementById("scale-input"),i=0;i<s.rows.length;i++){var c=e(s.rows[i].cells,3),v=c[0],d=c[1],p=c[2],f=e(a[i],3),x=f[0],y=f[1],h=f[2],m=e(v.children,1)[0],M=e(d.children,1)[0],q=e(p.children,1)[0];m.value=x,M.value=y,q.value=h}o.value=n};exports.updateKernel=s;var o=function(){var r=document.getElementById("kernel-table"),t=document.getElementById("scale-input"),a=[],l=!0,u=!1,s=void 0;try{for(var o,i=r.rows[Symbol.iterator]();!(l=(o=i.next()).done);l=!0){var c=e(o.value.cells,3),v=c[0],d=c[1],p=c[2],f=e(v.children,1)[0],x=e(d.children,1)[0],y=e(p.children,1)[0],h=[f.value,x.value,y.value].map(n);a.push(h)}}catch(m){u=!0,s=m}finally{try{l||null==i.return||i.return()}finally{if(u)throw s}}return{squareMatrix:a,scale:n(t.value)}};exports.parseKernel=o;var i=function(){var e=o();u=e};exports.parseToCustom=i;
},{}],"FO+Z":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.getPartitions=exports.firstNonZero=exports.bitSlicePixel=exports.posToIndex=void 0;var t=function(t){return function(r,e){return 4*r+4*e*t}};exports.posToIndex=t;var r=function(t){return function(r){return 255*r.toString(2)[t]}};exports.bitSlicePixel=r;var e=function(t){var r=!0,e=!1,o=void 0;try{for(var i,n=t[Symbol.iterator]();!(r=(i=n.next()).done);r=!0){var u=i.value;if(0!==u)return u}}catch(a){e=!0,o=a}finally{try{r||null==n.return||n.return()}finally{if(e)throw o}}};exports.firstNonZero=e;var o=function(t){var r=Math.floor((t.width-1)/2),e=r+1,o=Math.floor((t.height-1)/2),i=o+1;return[[0,0,e-0+1,i-0+1],[r,0,t.width-r,i-0+1],[0,o,e-0+1,t.height-o],[r,o,t.width-r,t.height-o]]};exports.getPartitions=o;
},{}],"has+":[function(require,module,exports) {
module.exports="cat-hat.a4b82474.jpeg";
},{}],"ejbP":[function(require,module,exports) {
module.exports="lenna.690a1e54.jpeg";
},{}],"PZa4":[function(require,module,exports) {
module.exports="painting.888ff59e.jpeg";
},{}],"vUvb":[function(require,module,exports) {
module.exports="street-skeletons.a14b506a.jpeg";
},{}],"zERG":[function(require,module,exports) {
module.exports="tower.ea8288ae.jpeg";
},{}],"3+KY":[function(require,module,exports) {
module.exports="zebra.8a4675f1.jpeg";
},{}],"vD+Y":[function(require,module,exports) {
module.exports={"cat-hat":require("./cat-hat.jpeg"),lenna:require("./lenna.jpeg"),painting:require("./painting.jpeg"),"street-skeletons":require("./street-skeletons.jpeg"),tower:require("./tower.jpeg"),zebra:require("./zebra.jpeg")};
},{"./cat-hat.jpeg":"has+","./lenna.jpeg":"ejbP","./painting.jpeg":"PZa4","./street-skeletons.jpeg":"vUvb","./tower.jpeg":"zERG","./zebra.jpeg":"3+KY"}],"SyrU":[function(require,module,exports) {
"use strict";var e=require("./kernel"),t=require("./utils"),a=n(require("./../assets/images/*.jpeg"));function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){return l(e)||d(e,t)||i()}function i(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}function d(e,t){var a=[],n=!0,r=!1,i=void 0;try{for(var d,l=e[Symbol.iterator]();!(n=(d=l.next()).done)&&(a.push(d.value),!t||a.length!==t);n=!0);}catch(o){r=!0,i=o}finally{try{n||null==l.return||l.return()}finally{if(r)throw i}}return a}function l(e){if(Array.isArray(e))return e}window.Worker||console.log("You don't have workers, sorry!");var o,u=document.getElementById("img-in"),f=document.getElementById("img-out"),s=document.getElementById("image-select"),c=document.getElementById("kernel-select"),h=document.getElementById("kernel-table"),g=document.getElementById("apply-kernel-btn"),m=0;s.disabled=!0,g.disabled=!1;var v=u.getContext("2d"),y=f.getContext("2d"),w=new Image;w.addEventListener("load",function(){y.clearRect(0,0,f.width,f.height),u.width=w.width,u.height=w.height,v.drawImage(w,0,0),f.width=w.width,f.height=w.height,s.disabled=!1,o=y.createImageData(w.width,w.height)}),w.addEventListener("load",function(){var e=!0,t=!1,a=void 0;try{for(var n,r=p[Symbol.iterator]();!(e=(n=r.next()).done);e=!0){n.value.addEventListener("message",b)}}catch(i){t=!0,a=i}finally{try{e||null==r.return||r.return()}finally{if(t)throw a}}g.addEventListener("click",E)},{once:!0}),s.addEventListener("change",function(e){w.src=a.default[s.value],s.disabled=!0}),c.addEventListener("change",function(t){(0,e.updateKernel)(c.value)}),h.addEventListener("input",function(t){c.value="Custom",(0,e.parseToCustom)()}),w.src=a.default[s.value],(0,e.updateKernel)(c.value);var p=[new Worker("task.f589acb1.js"),new Worker("task.f589acb1.js"),new Worker("task.f589acb1.js"),new Worker("task.f589acb1.js")];function b(e){var a=(0,t.posToIndex)(w.width),n=e.data,i=n.newImage,d=n.xOff,l=n.yOff,u=!0,f=!1,s=void 0;try{for(var c,h=i[Symbol.iterator]();!(u=(c=h.next()).done);u=!0){var v=r(c.value,3),p=v[0],b=v[1],E=v[2],I=a(d+p,l+b);o.data[I+0]=E[0],o.data[I+1]=E[1],o.data[I+2]=E[2],o.data[I+3]=E[3]}}catch(k){f=!0,s=k}finally{try{u||null==h.return||h.return()}finally{if(f)throw s}}0===(m-=1)&&(y.putImageData(o,0,0),console.timeEnd("Filter time"),g.disabled=!1)}function E(){g.disabled=!0;for(var a=(0,t.getPartitions)(w),n=(0,e.parseKernel)(),i=0;i<p.length;i++){var d=r(a[i],4),l=d[0],o=d[1],u=d[2],f=d[3],s=p[i],c=v.getImageData(l,o,u,f);s.postMessage({op:"spatial-filter",kernel:n,xOff:l,yOff:o,image:{width:c.width,height:c.height,pixels:c.data}}),m+=1}console.time("Filter time")}
},{"./kernel":"W8he","./utils":"FO+Z","./../assets/images/*.jpeg":"vD+Y","./task.js":[["task.f589acb1.js","oMIk"],"oMIk"]}]},{},["SyrU"], null)